{
  "migrationFile": {
    "version": "1.0.0",
    "description": "Skills Engine service that stores and manages skills and competency taxonomies, builds user competency profiles from assessments, and supports gap analysis across users and roles.",
    "database": {
      "tables": [
        {
          "name": "users",
          "schema": {
            "user_id": "uuid",
            "user_name": "string",
            "company_id": "string",
            "relevance_score": "number",
            "created_at": "timestamp",
            "updated_at": "timestamp"
          }
        },
        {
          "name": "competencies",
          "schema": {
            "competency_id": "uuid",
            "competency_name": "string",
            "description": "string",
            "parent_competency_id": "uuid",
            "created_at": "timestamp",
            "updated_at": "timestamp"
          }
        },
        {
          "name": "skills",
          "schema": {
            "skill_id": "uuid",
            "skill_name": "string",
            "parent_skill_id": "uuid",
            "description": "string",
            "created_at": "timestamp",
            "updated_at": "timestamp"
          }
        },
        {
          "name": "official_sources",
          "schema": {
            "source_id": "string",
            "source_name": "string",
            "reference_index_url": "string",
            "reference_type": "string",
            "access_method": "string",
            "hierarchy_support": "boolean",
            "provides": "string",
            "coveredTopic": "string",
            "skill_focus": "string",
            "notes": "string",
            "is_extracted": "boolean",
            "last_checked": "timestamp",
            "created_at": "timestamp",
            "updated_at": "timestamp"
          }
        },
        {
          "name": "competency_skill",
          "schema": {
            "competency_id": "uuid",
            "skill_id": "uuid",
            "created_at": "timestamp"
          }
        },
        {
          "name": "competency_subcompetency",
          "schema": {
            "parent_competency_id": "uuid",
            "child_competency_id": "uuid",
            "created_at": "timestamp"
          }
        },
        {
          "name": "skill_subskill",
          "schema": {
            "parent_skill_id": "uuid",
            "child_skill_id": "uuid",
            "created_at": "timestamp"
          }
        },
        {
          "name": "usercompetency",
          "schema": {
            "user_id": "uuid",
            "competency_id": "uuid",
            "coverage_percentage": "number",
            "proficiency_level": "string",
            "verifiedskills": "json",
            "created_at": "timestamp",
            "updated_at": "timestamp"
          }
        },
        {
          "name": "userskill",
          "schema": {
            "user_id": "uuid",
            "skill_id": "uuid",
            "skill_name": "string",
            "verified": "boolean",
            "source": "string",
            "last_update": "timestamp",
            "created_at": "timestamp"
          }
        }
      ],
      "migrations": [
        "000_initial_schema",
        "001_skill_rpc_functions"
      ]
    },
    "api": {
      "endpoints": [
        {
          "path": "/api/fill-content-metrics/",
          "method": "POST",
          "description": "Unified Data Exchange endpoint for all external microservices (directory-ms, assessment-ms, course-builder-ms, content-studio-ms, learner-ai-ms, analytics-ms, rag-ms).",
          "requestSchema": {
            "required": ["requester_service", "payload", "response"],
            "properties": {
              "requester_service": {
                "type": "string"
              },
              "payload": {
                "type": "object"
              },
              "response": {
                "type": "object",
                "properties": {
                  "status": { "type": "string" },
                  "message": { "type": "string" },
                  "data": { "type": "object" }
                }
              }
            }
          },
          "responseSchema": {
            "properties": {
              "status": { "type": "string" },
              "message": { "type": "string" },
              "data": { "type": "object" }
            }
          }
        }
      ]
    },
    "dependencies": [
      "directory-ms",
      "assessment-ms",
      "course-builder-ms",
      "content-studio-ms",
      "learner-ai-ms",
      "analytics-ms",
      "rag-ms",
      "google-gemini-api"
    ],
    "capabilities": [
      "skills_engine",
      "skills_taxonomy",
      "competency_taxonomy",
      "user_profiles",
      "gap_analysis",
      "unified_content_metrics"
    ],
    "events": {
      "publishes": [
        "directory.initial_profile.created",
        "directory.profile.updated",
        "assessment.baseline_exam.requested",
        "assessment.post_course_exam.requested",
        "assessment.exam_results.processed",
        "gap_analysis.completed",
        "taxonomy.initialized",
        "taxonomy.synchronized",
        "trainer.csv_import.completed",
        "trainer.csv_import.security_alert"
      ],
      "subscribes": [
        "directory.user.created",
        "assessment.baseline_exam.results",
        "assessment.post_course_exam.results"
      ]
    }
  }
}
